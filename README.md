# Ajdad.net Family Tree Data

Open-source family tree data for [ajdad.net](https://ajdad.net).

This directory is planned to become a standalone public repository so that anyone can contribute family tree data via pull requests without needing access to the application codebase.

## Directory Structure

```
ruling-families/{country}/{name}.yaml   — Modern ruling/royal families
tribes/{name}.yaml                      — Major tribes with active modern identity
historical/{name}.yaml                  — Historical tribes, kingdoms, dynasties
```

## Ruling Families

| File | الاسم | النوع | البلد |
|------|-------|-------|-------|
| [ruling-families/saudi-arabia/aal-saud.yaml](ruling-families/saudi-arabia/aal-saud.yaml) | آل سعود | آل | السعودية |
| [ruling-families/qatar/aal-thani.yaml](ruling-families/qatar/aal-thani.yaml) | آل ثاني | آل | قطر |
| [ruling-families/uae/aal-nahyan.yaml](ruling-families/uae/aal-nahyan.yaml) | آل نهيان | آل | الإمارات |
| [ruling-families/uae/aal-maktoum.yaml](ruling-families/uae/aal-maktoum.yaml) | آل مكتوم | آل | الإمارات |
| [ruling-families/iraq/hashemite.yaml](ruling-families/iraq/hashemite.yaml) | الهاشميون | عائلة | العراق |
| [ruling-families/jordan/hashemite.yaml](ruling-families/jordan/hashemite.yaml) | الهاشميون | عائلة | الأردن |
| [ruling-families/kuwait/aal-sabah.yaml](ruling-families/kuwait/aal-sabah.yaml) | آل صباح | آل | الكويت |
| [ruling-families/bahrain/aal-khalifah.yaml](ruling-families/bahrain/aal-khalifah.yaml) | آل خليفة | آل | البحرين |
| [ruling-families/oman/aal-said.yaml](ruling-families/oman/aal-said.yaml) | آل سعيد | آل | عمان |
| [ruling-families/morocco/alaouite.yaml](ruling-families/morocco/alaouite.yaml) | العلويون | آل | المغرب |
| [ruling-families/saudi-arabia/aal-alshaikh.yaml](ruling-families/saudi-arabia/aal-alshaikh.yaml) | آل الشيخ | آل | السعودية |
| [ruling-families/uae/aal-mualla.yaml](ruling-families/uae/aal-mualla.yaml) | آل المعلا | آل | الإمارات |
| [ruling-families/uae/aal-sharqi.yaml](ruling-families/uae/aal-sharqi.yaml) | آل الشرقي | آل | الإمارات |
| [ruling-families/uae/aal-nuaimi.yaml](ruling-families/uae/aal-nuaimi.yaml) | آل النعيمي | آل | الإمارات |
| [ruling-families/uae/aal-qasimi-sharjah.yaml](ruling-families/uae/aal-qasimi-sharjah.yaml) | آل القاسمي | آل | الإمارات |
| [ruling-families/egypt/muhammad-ali.yaml](ruling-families/egypt/muhammad-ali.yaml) | أسرة محمد علي | آل | مصر |
| [ruling-families/libya/senussi.yaml](ruling-families/libya/senussi.yaml) | السنوسيون | آل | ليبيا |
| [ruling-families/yemen/aal-hamid-al-din.yaml](ruling-families/yemen/aal-hamid-al-din.yaml) | آل حميد الدين | آل | اليمن |
| [ruling-families/saudi-arabia/aal-rashid.yaml](ruling-families/saudi-arabia/aal-rashid.yaml) | بنو الرشيد | آل | السعودية |

## Tribes

| File | الاسم | الموطن |
|------|-------|--------|
| [tribes/utaybah.yaml](tribes/utaybah.yaml) | عتيبة | نجد |
| [tribes/qahtan.yaml](tribes/qahtan.yaml) | قحطان | جنوب نجد |
| [tribes/mutayr.yaml](tribes/mutayr.yaml) | مطير | نجد |
| [tribes/shammar.yaml](tribes/shammar.yaml) | شمّر | حائل |
| [tribes/anazah.yaml](tribes/anazah.yaml) | عنزة | نجد |
| [tribes/harb.yaml](tribes/harb.yaml) | حرب | الحجاز |
| [tribes/banu-tamim.yaml](tribes/banu-tamim.yaml) | بنو تميم | نجد |
| [tribes/dawasir.yaml](tribes/dawasir.yaml) | الدواسر | وادي الدواسر |
| [tribes/banu-khalid.yaml](tribes/banu-khalid.yaml) | بنو خالد | الأحساء |
| [tribes/subay.yaml](tribes/subay.yaml) | سبيع | نجد |
| [tribes/juhaynah.yaml](tribes/juhaynah.yaml) | جهينة | المدينة المنورة |
| [tribes/bali.yaml](tribes/bali.yaml) | بلي | تبوك |
| [tribes/ujman.yaml](tribes/ujman.yaml) | العجمان | الأحساء |
| [tribes/zahran.yaml](tribes/zahran.yaml) | زهران | الباحة |
| [tribes/ghamid.yaml](tribes/ghamid.yaml) | غامد | الباحة |
| [tribes/shahran.yaml](tribes/shahran.yaml) | شهران | عسير |
| [tribes/banu-sulaym.yaml](tribes/banu-sulaym.yaml) | بنو سليم | الحجاز |
| [tribes/huthayl.yaml](tribes/huthayl.yaml) | هذيل | الحجاز |
| [tribes/yam.yaml](tribes/yam.yaml) | يام | نجران |
| [tribes/dhafir.yaml](tribes/dhafir.yaml) | الظفير | نجد |
| [tribes/awazim.yaml](tribes/awazim.yaml) | العوازم | الكويت |
| [tribes/murrah.yaml](tribes/murrah.yaml) | المرة | الربع الخالي |
| [tribes/banu-hajir.yaml](tribes/banu-hajir.yaml) | بنو هاجر | نجد |
| [tribes/rashayidah.yaml](tribes/rashayidah.yaml) | الرشايدة | نجد |
| [tribes/suhul.yaml](tribes/suhul.yaml) | السهول | نجد |
| [tribes/banu-al-harith.yaml](tribes/banu-al-harith.yaml) | بنو الحارث | نجران |
| [tribes/hashid.yaml](tribes/hashid.yaml) | حاشد | صنعاء |
| [tribes/bakil.yaml](tribes/bakil.yaml) | بكيل | صنعاء |
| [tribes/khawlan.yaml](tribes/khawlan.yaml) | خولان | صعدة |
| [tribes/huwaitat.yaml](tribes/huwaitat.yaml) | الحويطات | تبوك |
| [tribes/banu-sakhr.yaml](tribes/banu-sakhr.yaml) | بنو صخر | الأردن |
| [tribes/banu-atiyyah.yaml](tribes/banu-atiyyah.yaml) | بنو عطية | تبوك |
| [tribes/shararat.yaml](tribes/shararat.yaml) | الشرارات | الجوف |
| [tribes/mahrah.yaml](tribes/mahrah.yaml) | المهرة | المهرة |
| [tribes/banu-shahr.yaml](tribes/banu-shahr.yaml) | بنو شهر | النماص |
| [tribes/balqarn.yaml](tribes/balqarn.yaml) | بلقرن | بلقرن |
| [tribes/fudul.yaml](tribes/fudul.yaml) | الفضول | نجد |
| [tribes/banu-yas.yaml](tribes/banu-yas.yaml) | بنو ياس | أبوظبي |
| [tribes/utub.yaml](tribes/utub.yaml) | العتوب | الكويت |
| [tribes/sarhan.yaml](tribes/sarhan.yaml) | السرحان | الجوف |
| [tribes/rijal-alma.yaml](tribes/rijal-alma.yaml) | رجال ألمع | رجال ألمع |
| [tribes/banu-malik.yaml](tribes/banu-malik.yaml) | بنو مالك | عسير |
| [tribes/banu-kaab.yaml](tribes/banu-kaab.yaml) | بنو كعب | الأحواز |
| [tribes/yafa.yaml](tribes/yafa.yaml) | يافع | يافع |
| [tribes/shihuh.yaml](tribes/shihuh.yaml) | الشحوح | رأس الخيمة |
| [tribes/manasir.yaml](tribes/manasir.yaml) | المناصير | الظفرة |
| [tribes/dhawahir.yaml](tribes/dhawahir.yaml) | الظواهر | العين |
| [tribes/manahil.yaml](tribes/manahil.yaml) | المناهيل | حضرموت |
| [tribes/awalik.yaml](tribes/awalik.yaml) | العوالق | شبوة |
| [tribes/ballasmar.yaml](tribes/ballasmar.yaml) | بللسمر | النماص |
| [tribes/ballahmar.yaml](tribes/ballahmar.yaml) | بللحمر | خميس مشيط |
| [tribes/khathaam.yaml](tribes/khathaam.yaml) | خثعم | بيشة |
| [tribes/nuaim.yaml](tribes/nuaim.yaml) | النعيم | البريمي |
| [tribes/banu-zayd.yaml](tribes/banu-zayd.yaml) | بنو زيد | شقراء |

## Historical

| File | الاسم | الوصف |
|------|-------|-------|
| [historical/aal-hashim.yaml](historical/aal-hashim.yaml) | بنو عبد مناف | قريش والأمويون والعباسيون |
| [historical/al-ansar.yaml](historical/al-ansar.yaml) | الأوس والخزرج | أنصار المدينة المنورة |
| [historical/banu-asad.yaml](historical/banu-asad.yaml) | بنو أسد | بنو أسد بن خزيمة |
| [historical/banu-abs.yaml](historical/banu-abs.yaml) | بنو عبس | قبيلة عنترة بن شداد |
| [historical/banu-dhubyan.yaml](historical/banu-dhubyan.yaml) | بنو ذبيان | قبيلة النابغة الذبياني |
| [historical/banu-hilal.yaml](historical/banu-hilal.yaml) | بنو هلال | أصحاب التغريبة الشهيرة |
| [historical/banu-amir.yaml](historical/banu-amir.yaml) | بنو عامر بن صعصعة | من هوازن |
| [historical/banu-hanifah.yaml](historical/banu-hanifah.yaml) | بنو حنيفة | من بكر بن وائل |
| [historical/kindah.yaml](historical/kindah.yaml) | كندة | مملكة كندة وامرؤ القيس |
| [historical/manadhirah.yaml](historical/manadhirah.yaml) | المناذرة | مملكة الحيرة (بنو لخم) |
| [historical/ghassanids.yaml](historical/ghassanids.yaml) | الغساسنة | مملكة الغساسنة في الشام |
| [historical/thaqif.yaml](historical/thaqif.yaml) | ثقيف | قبيلة الطائف والحجاج بن يوسف |
| [historical/banu-lam.yaml](historical/banu-lam.yaml) | بنو لام | من طيء |
| [historical/adarisah.yaml](historical/adarisah.yaml) | الأدارسة | إمارة عسير الإدريسية |
| [historical/ottomans.yaml](historical/ottomans.yaml) | آل عثمان | الدولة العثمانية |
| [historical/ayyubids.yaml](historical/ayyubids.yaml) | الأيوبيون | صلاح الدين والأيوبيون |
| [historical/fatimids.yaml](historical/fatimids.yaml) | الفاطميون | الخلافة الفاطمية في مصر |
| [historical/hamdanids.yaml](historical/hamdanids.yaml) | الحمدانيون | سيف الدولة وأبو فراس |
| [historical/tulunids.yaml](historical/tulunids.yaml) | الطولونيون | أحمد بن طولون في مصر |
| [historical/banu-kinanah.yaml](historical/banu-kinanah.yaml) | بنو كنانة | القبيلة الأم لقريش |
| [historical/banu-taghlib.yaml](historical/banu-taghlib.yaml) | بنو تغلب | حرب البسوس وعمرو بن كلثوم |
| [historical/zengids.yaml](historical/zengids.yaml) | الزنكيون | نور الدين زنكي |
| [historical/yarubids.yaml](historical/yarubids.yaml) | اليعاربة | حكام عمان قبل آل سعيد |
| [historical/almoravids.yaml](historical/almoravids.yaml) | المرابطون | يوسف بن تاشفين والأندلس |
| [historical/almohads.yaml](historical/almohads.yaml) | الموحدون | عبد المؤمن بن علي |
| [historical/saadians.yaml](historical/saadians.yaml) | السعديون | أحمد المنصور الذهبي |
| [historical/aghlabids.yaml](historical/aghlabids.yaml) | الأغالبة | حكام إفريقية وفاتحو صقلية |
| [historical/hafsids.yaml](historical/hafsids.yaml) | الحفصيون | حكام تونس |
| [historical/nasrids.yaml](historical/nasrids.yaml) | بنو الأحمر | مملكة غرناطة |
| [historical/abbadids.yaml](historical/abbadids.yaml) | بنو عباد | ملوك إشبيلية |
| [historical/marinids.yaml](historical/marinids.yaml) | المرينيون | حكام المغرب بعد الموحدين |
| [historical/zayyanids.yaml](historical/zayyanids.yaml) | الزيانيون | حكام تلمسان |
| [historical/mahdiyyah.yaml](historical/mahdiyyah.yaml) | المهدية | الدولة المهدية في السودان |
| [historical/ikhshidids.yaml](historical/ikhshidids.yaml) | الإخشيديون | حكام مصر قبل الفاطميين |
| [historical/seljuks.yaml](historical/seljuks.yaml) | السلاجقة | الدولة السلجوقية |
| [historical/buyids.yaml](historical/buyids.yaml) | البويهيون | حكام بغداد وفارس |
| [historical/rasulids.yaml](historical/rasulids.yaml) | الرسوليون | حكام اليمن |
| [historical/uqaylids.yaml](historical/uqaylids.yaml) | العقيليون | حكام الموصل |
| [historical/mirdasids.yaml](historical/mirdasids.yaml) | بنو مرداس | حكام حلب |
| [historical/mamluks.yaml](historical/mamluks.yaml) | المماليك | سلاطين مصر والشام |
| [historical/rustamids.yaml](historical/rustamids.yaml) | الرستميون | حكام تاهرت |
| [historical/jalairids.yaml](historical/jalairids.yaml) | بنو جلاير | حكام العراق بعد المغول |
| [historical/tayy.yaml](historical/tayy.yaml) | طيء | حاتم الطائي وأصل شمّر وبنو لام |
| [historical/zirids.yaml](historical/zirids.yaml) | بنو زيري | حكام إفريقية وبنو حمّاد |
| [historical/qarmatians.yaml](historical/qarmatians.yaml) | القرامطة | دولة البحرين والأحساء |
| [historical/sulayhids.yaml](historical/sulayhids.yaml) | الصليحيون | حكام اليمن والملكة أروى |
| [historical/tahirids-yemen.yaml](historical/tahirids-yemen.yaml) | الطاهريون | حكام اليمن بعد الرسوليين |
| [historical/banu-hud.yaml](historical/banu-hud.yaml) | بنو هود | ملوك سرقسطة |
| [historical/idrissids.yaml](historical/idrissids.yaml) | الإدريسيون | أول دولة إسلامية في المغرب |
| [historical/wattasids.yaml](historical/wattasids.yaml) | الوطاسيون | حكام المغرب بعد المرينيين |
| [historical/khwarazmians.yaml](historical/khwarazmians.yaml) | الخوارزميون | الدولة الخوارزمشاهية |
| [historical/nabhanids.yaml](historical/nabhanids.yaml) | بنو نبهان | حكام عمان قبل اليعاربة |
| [historical/himyar.yaml](historical/himyar.yaml) | حِمْيَر | المملكة الحميرية القديمة |
| [historical/kathiri.yaml](historical/kathiri.yaml) | الكثيري | سلطنة حضرموت |
| [historical/quaiti.yaml](historical/quaiti.yaml) | القعيطي | سلطنة المكلا |
| [historical/saba.yaml](historical/saba.yaml) | سبأ | مملكة سبأ القديمة |
| [historical/hamdan.yaml](historical/hamdan.yaml) | هَمدان | القبيلة الأم لحاشد وبكيل |
| [historical/madhhij.yaml](historical/madhhij.yaml) | مَذحج | مُراد وعَنْس وزُبَيد |
| [historical/azd.yaml](historical/azd.yaml) | الأزد | القبيلة الأم لزهران وغامد وغسان |
| [historical/bajila.yaml](historical/bajila.yaml) | بجيلة | قبيلة جرير بن عبد الله |
| [historical/aftasids.yaml](historical/aftasids.yaml) | بنو الأفطس | ملوك بطليوس |
| [historical/musha-sha-iyyah.yaml](historical/musha-sha-iyyah.yaml) | الموشعشعيون | حكام الأحواز |
| [historical/mudar.yaml](historical/mudar.yaml) | مُضَر | أصل قريش وتميم وهوازن وغطفان |
| [historical/rabia.yaml](historical/rabia.yaml) | ربيعة | أصل عنزة وبكر وتغلب وعبد القيس |
| [historical/hawazin.yaml](historical/hawazin.yaml) | هوازن | أصل عتيبة وبنو عامر |
| [historical/ghatafan.yaml](historical/ghatafan.yaml) | غطفان | أصل عبس وذبيان وفزارة |
| [historical/khuzaah.yaml](historical/khuzaah.yaml) | خزاعة | سدنة مكة قبل قريش |
| [historical/abd-al-qays.yaml](historical/abd-al-qays.yaml) | بنو عبد القيس | قبيلة البحرين القديمة |
| [historical/daws.yaml](historical/daws.yaml) | دوس | قبيلة أبي هريرة |
| [historical/qudaah.yaml](historical/qudaah.yaml) | قضاعة | أصل بلي وجهينة وكلب والمهرة |
| [historical/lakhm.yaml](historical/lakhm.yaml) | لخم | القبيلة الأم للمناذرة وبنو عباد |
| [historical/judham.yaml](historical/judham.yaml) | جذام | قبيلة الشام ومصر الكبرى |
| [historical/banu-kalb.yaml](historical/banu-kalb.yaml) | بنو كلب | قبيلة الشام من قضاعة |
| [historical/banu-shayban.yaml](historical/banu-shayban.yaml) | بنو شيبان | أبطال ذي قار والإمام أحمد بن حنبل |
| [historical/iyad.yaml](historical/iyad.yaml) | إياد | قبيلة عدنانية قديمة |
| [historical/fazara.yaml](historical/fazara.yaml) | بنو فزارة | عيينة بن حصن سيد غطفان |
| [historical/nakha.yaml](historical/nakha.yaml) | النخع | الأشتر النخعي وإبراهيم النخعي |
| [historical/zubayd.yaml](historical/zubayd.yaml) | زُبَيد | عمرو بن معدي كرب الزبيدي |
| [historical/banu-uqayl.yaml](historical/banu-uqayl.yaml) | بنو عقيل | بنو عامر والمنتفق |

## YAML Format

Each file contains a single family tree with two top-level keys: `family` and `persons`.

```yaml
family:
  id: 7dab1af4-c2b8-4b89-a95e-57cad4832c87  # UUIDv4 — mandatory, used as Firestore doc ID
  name: آل سعود
  type: aal                  # aal | aila | qabila | ashira | usra
  category: ruling           # ruling | historical | tribes | other
  suffixMale: السعودي
  suffixFemale: السعودية
  hometown: الدرعية          # optional
  source: >-                 # optional — مصدر المعلومات
    مصدر المعلومات
  description: >-            # optional
    وصف العائلة
  pinned: true               # optional — pin to top of homepage
  visibility: public         # public | private

persons:
  - id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
    name: مانع
    sex: male
    nickname: المريدي        # optional — اللقب (prefix title)
    kunya: مؤسس الدرعية     # optional — التعريف (postfix identifier)
    birthdate: "1400"        # optional — YYYY format, must be quoted

  - id: 9c1b5b5a-8a0e-4e3b-b9a2-6f1c3d7e8f90
    name: ربيعة
    sex: male
    fatherId: 3fa85f64-5717-4562-b3fc-2c963f66afa6
    motherId: ...            # optional — references another person's id
```

## Person Fields

| Field | Required | Description |
|-------|----------|-------------|
| `id` | yes | UUIDv4 — becomes the Firestore document ID. Generate with `uuidgen` or any UUID tool. |
| `name` | yes | First name only (e.g. "فهد"). Do not include "بن [father]" — the parent relationship is expressed via `fatherId`. |
| `sex` | yes | `male` or `female` |
| `nickname` | no | اللقب — prefix title displayed before the name (e.g. "الملك", "الإمام", "ولي العهد") |
| `kunya` | no | التعريف — postfix identifier displayed after the name (e.g. "الخامس", "المؤسس", "الأول") |
| `birthdate` | no | Year in YYYY format, must be quoted (e.g. `"1921"`) |
| `fatherId` | no | References another person's `id` in the same file |
| `motherId` | no | References another person's `id` in the same file |

**`nickname` + `kunya` example:** For الملك فهد الخامس, set `nickname: الملك` and `kunya: الخامس`. The app renders: `nickname` + `name` + `kunya`.

## Rules

- **Topological order**: parents must appear before their children in the `persons` list.
- **`fatherId` / `motherId`** reference another person's `id` within the same file.
- **`family.type`** must be one of:
  | Value | Arabic |
  |-------|--------|
  | `aal` | آل |
  | `aila` | عائلة |
  | `qabila` | قبيلة |
  | `ashira` | عشيرة |
  | `usra` | أسرة |

## Family Fields

| Field | Required | Description |
|-------|----------|-------------|
| `id` | yes | UUIDv4 — becomes the Firestore document ID |
| `name` | yes | Family name in Arabic |
| `type` | yes | One of: `aal`, `aila`, `qabila`, `ashira`, `usra` |
| `category` | yes | One of: `ruling`, `historical`, `tribes`, `other` — derived from directory |
| `suffixMale` | no | Male family name suffix |
| `suffixFemale` | no | Female family name suffix |
| `hometown` | no | Origin location |
| `description` | no | Brief description |
| `pinned` | no | Pin to featured section on homepage |
| `visibility` | no | `public` (default) or `private` |

## Import Modes

When imported via the admin panel at `/admin/import` or via `bulk-import.ts`:

- **`family.id` present AND exists in Firestore** = **update mode** (updates existing family, creates new persons not found in Firestore)
- **`family.id` present AND not in Firestore** = **create mode** with provided ID
- **No `family.id`** = **create mode** with auto-generated ID

## Tooling

The `cmd/` directory contains Go utilities for validating and processing the data.

### Prerequisites

- [Go](https://go.dev/dl/) (stable)

### Makefile

| Command | Description |
|---------|-------------|
| `make` | Run tests then amalgamate (default) |
| `make test` | Validate all YAML files (Arabic text, numerals, tree connectivity) |
| `make run` | Run tests then amalgamate all trees into `all-trees.yaml` |

### Validation (`cmd/validate_data_test.go`)

Runs three checks on every YAML file:

- **Arabic text** — family and person name fields must contain Arabic characters, no Western digits
- **Eastern Arabic numerals** — birthdates must use `٠-٩` only
- **Tree connectivity** — every person must be reachable via parent references (no disconnected nodes), orphan females must be referenced as mothers

### Amalgamate (`cmd/amalgamate/main.go`)

Combines all YAML files into a single `all-trees.yaml` for bulk import via `/admin/import`. Derives `category` from directory path and strips unnecessary fields.

```
go run ./cmd/amalgamate
```

### CI / GitHub Actions

| Workflow | Trigger | What it does |
|----------|---------|--------------|
| **Validate Data** | Pull request to `main` | Runs `go test -v ./...` to validate all YAML files |
| **Build amalgamated YAML** | Manual (`workflow_dispatch`) | Runs amalgamate and uploads `all-trees.yaml` as an artifact |

## Contributing

1. Create a YAML file under the appropriate directory
2. Generate real UUIDv4 IDs for each person (do not use placeholder or hand-written IDs)
3. Ensure parents are listed before children
4. Submit a pull request

All data contributed here is public. Do not include private or sensitive personal information about living individuals without their consent.

## License

This data is provided as-is for educational and genealogical purposes.
